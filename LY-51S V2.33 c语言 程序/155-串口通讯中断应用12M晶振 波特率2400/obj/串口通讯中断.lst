C51 COMPILER V7.06   __¿ÚÍ_Ñ_Ö___                                                          07/25/2012 10:44:04 PAGE 1   


C51 COMPILER V7.06, COMPILATION OF MODULE __¿ÚÍ_Ñ_Ö___
OBJECT MODULE PLACED IN .\obj\´®¿ÚÍ¨Ñ¶ÖÐ¶Ï.obj
COMPILER INVOKED BY: d:\Keil\C51\BIN\C51.EXE ´®¿ÚÍ¨Ñ¶ÖÐ¶Ï.c BROWSE DEBUG OBJECTEXTEND PRINT(.\obj\´®¿ÚÍ¨Ñ¶ÖÐ¶Ï.lst) OBJE
                    -CT(.\obj\´®¿ÚÍ¨Ñ¶ÖÐ¶Ï.obj)

stmt level    source

   1           
   2          /*-----------------------------------------------
   3            Ãû³Æ£º´®¿ÚÍ¨ÐÅ
   4            ÍøÕ¾£ºwww.doflye.net
   5            ±àÐ´£ºshifang
   6            ÈÕÆÚ£º2009.5
   7            ÐÞ¸Ä£ºÎÞ
   8            ÄÚÈÝ£ºÁ¬½ÓºÃ´®¿Ú»òÕßusb×ª´®¿ÚÖÁµçÄÔ£¬ÏÂÔØ¸Ã³ÌÐò£¬´ò¿ªµçÔ´
   9                  ´ò¿ª´®¿Úµ÷ÊÔ³ÌÐò£¬½«²¨ÌØÂÊÉèÖÃÎª2400£¬ÎÞÆæÅ¼Ð£Ñé
  10                  ¾§Õñ12MHz£¬·¢ËÍºÍ½ÓÊÕÊ¹ÓÃµÄ¸ñÊ½ÏàÍ¬£¬Èç¶¼Ê¹ÓÃ
  11                  ×Ö·ûÐÍ¸ñÊ½£¬°´¸´Î»ÖØÆô³ÌÐò£¬¿ÉÒÔ¿´µ½½ÓÊÕµ½ UART test£¬¼¼ÊõÂÛÌ³£ºwww.doflye.net ÇëÔÚ·¢ËÍÇøÊäÈëÈÎÒâÐ
             -Å
  12                          È»ºóÔÚ·¢ËÍÇø·¢ËÍÈÎÒâÐÅÏ¢£¬½ÓÊÕÇø·µ»ØÍ¬ÑùÐÅÏ¢£¬±íÃ÷´®¿ÚÊÕ·¢ÎÞÎó
  13          ------------------------------------------------*/
  14          
  15          #include<reg52.h> //°üº¬Í·ÎÄ¼þ£¬Ò»°ãÇé¿ö²»ÐèÒª¸Ä¶¯£¬Í·ÎÄ¼þ°üº¬ÌØÊâ¹¦ÄÜ¼Ä´æÆ÷µÄ¶¨Òå                        
  16          
  17          /*------------------------------------------------
  18                             º¯ÊýÉùÃ÷
  19          ------------------------------------------------*/
  20          void SendStr(unsigned char *s);
  21          
  22          /*------------------------------------------------
  23                              ´®¿Ú³õÊ¼»¯
  24          ------------------------------------------------*/
  25          void InitUART  (void)
  26          {
  27   1      
  28   1          SCON  = 0x50;                       // SCON: Ä£Ê½ 1, 8-bit UART, Ê¹ÄÜ½ÓÊÕ  
  29   1          TMOD |= 0x20;               // TMOD: timer 1, mode 2, 8-bit ÖØ×°
  30   1          TH1   = 0xF3;               // TH1:  ÖØ×°Öµ 2400 ²¨ÌØÂÊ ¾§Õñ 12MHz  
  31   1          TR1   = 1;                  // TR1:  timer 1 ´ò¿ª                         
  32   1          EA    = 1;                  //´ò¿ª×ÜÖÐ¶Ï
  33   1         // ES    = 1;                  //´ò¿ª´®¿ÚÖÐ¶Ï
  34   1      }                            
  35          /*------------------------------------------------
  36                              Ö÷º¯Êý
  37          ------------------------------------------------*/
  38          void main (void)
  39          {
  40   1      
  41   1      InitUART();
  42   1      
  43   1      SendStr("UART test£¬¼¼ÊõÂÛÌ³£ºwww.doflye.net ÇëÔÚ·¢ËÍÇøÊäÈëÈÎÒâÐÅÏ¢");
  44   1      
  45   1      ES    = 1;                  //´ò¿ª´®¿ÚÖÐ¶Ï
  46   1      while (1)                       
  47   1          {
  48   2          
  49   2          }
  50   1      }
  51          
  52          /*------------------------------------------------
  53                              ·¢ËÍÒ»¸ö×Ö½Ú
C51 COMPILER V7.06   __¿ÚÍ_Ñ_Ö___                                                          07/25/2012 10:44:04 PAGE 2   

  54          ------------------------------------------------*/
  55          void SendByte(unsigned char dat)
  56          {
  57   1       SBUF = dat;
  58   1       while(!TI);
  59   1            TI = 0;
  60   1      }
  61          /*------------------------------------------------
  62                              ·¢ËÍÒ»¸ö×Ö·û´®
  63          ------------------------------------------------*/
  64          void SendStr(unsigned char *s)
  65          {
  66   1       while(*s!='\0')// \0 ±íÊ¾×Ö·û´®½áÊø±êÖ¾£¬Í¨¹ý¼ì²âÊÇ·ñ×Ö·û´®Ä©Î²
  67   1        {
  68   2        SendByte(*s);
  69   2        s++;
  70   2        }
  71   1      }
  72          /*------------------------------------------------
  73                               ´®¿ÚÖÐ¶Ï³ÌÐò
  74          ------------------------------------------------*/
  75          void UART_SER (void) interrupt 4 //´®ÐÐÖÐ¶Ï·þÎñ³ÌÐò
  76          {
  77   1          unsigned char Temp;          //¶¨ÒåÁÙÊ±±äÁ¿ 
  78   1         
  79   1         if(RI)                        //ÅÐ¶ÏÊÇ½ÓÊÕÖÐ¶Ï²úÉú
  80   1           {
  81   2                RI=0;                      //±êÖ¾Î»ÇåÁã
  82   2                Temp=SBUF;                 //¶ÁÈë»º³åÇøµÄÖµ
  83   2                P1=Temp;                   //°ÑÖµÊä³öµ½P1¿Ú£¬ÓÃÓÚ¹Û²ì
  84   2            SBUF=Temp;                 //°Ñ½ÓÊÕµ½µÄÖµÔÙ·¢»ØµçÄÔ¶Ë
  85   2               }
  86   1         if(TI)                        //Èç¹ûÊÇ·¢ËÍ±êÖ¾Î»£¬ÇåÁã
  87   1           TI=0;
  88   1      } 
  89          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     85    ----
   CONSTANT SIZE    =     59    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
