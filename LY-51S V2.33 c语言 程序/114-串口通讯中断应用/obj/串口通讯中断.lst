C51 COMPILER V7.06   _______                                                          06/03/2010 11:03:25 PAGE 1   


C51 COMPILER V7.06, COMPILATION OF MODULE _______
OBJECT MODULE PLACED IN .\obj\ͨѶж.obj
COMPILER INVOKED BY: d:\Keil\C51\BIN\C51.EXE ͨѶж.c BROWSE DEBUG OBJECTEXTEND PRINT(.\obj\ͨѶж.lst) OBJE
                    -CT(.\obj\ͨѶж.obj)

stmt level    source

   1           
   2          /*-----------------------------------------------
   3            ƣͨ
   4            վwww.doflye.net
   5            дshifang
   6            ڣ2009.5
   7            ޸ģ
   8            ݣӺôڻusbתԣظó򣬴򿪵Դ
   9                  򿪴ڵԳ򣬽Ϊ9600żУ
  10                  11.0592MHzͺͽʹõĸʽͬ綼ʹ
  11                  ַ͸ʽλ򣬿Կյ UART test̳www.doflye.net ڷ
             -
  12                          ȻڷϢͬϢշ
  13          ------------------------------------------------*/
  14          
  15          #include<reg52.h> //ͷļһҪĶͷļ⹦ܼĴĶ                        
  16          
  17          /*------------------------------------------------
  18                             
  19          ------------------------------------------------*/
  20          void SendStr(unsigned char *s);
  21          
  22          /*------------------------------------------------
  23                              ڳʼ
  24          ------------------------------------------------*/
  25          void InitUART  (void)
  26          {
  27   1      
  28   1          SCON  = 0x50;                       // SCON: ģʽ 1, 8-bit UART, ʹܽ  
  29   1          TMOD |= 0x20;               // TMOD: timer 1, mode 2, 8-bit װ
  30   1          TH1   = 0xFD;               // TH1:  װֵ 9600   11.0592MHz  
  31   1          TR1   = 1;                  // TR1:  timer 1                          
  32   1          EA    = 1;                  //ж
  33   1         // ES    = 1;                  //򿪴ж
  34   1      }                            
  35          /*------------------------------------------------
  36                              
  37          ------------------------------------------------*/
  38          void main (void)
  39          {
  40   1      
  41   1      InitUART();
  42   1      
  43   1      SendStr("UART test̳www.doflye.net ڷϢ");
  44   1      
  45   1      ES    = 1;                  //򿪴ж
  46   1      while (1)                       
  47   1          {
  48   2          
  49   2          }
  50   1      }
  51          
  52          /*------------------------------------------------
  53                              һֽ
C51 COMPILER V7.06   _______                                                          06/03/2010 11:03:25 PAGE 2   

  54          ------------------------------------------------*/
  55          void SendByte(unsigned char dat)
  56          {
  57   1       SBUF = dat;
  58   1       while(!TI);
  59   1            TI = 0;
  60   1      }
  61          /*------------------------------------------------
  62                              һַ
  63          ------------------------------------------------*/
  64          void SendStr(unsigned char *s)
  65          {
  66   1       while(*s!='\0')// \0 ʾַ־ͨǷַĩβ
  67   1        {
  68   2        SendByte(*s);
  69   2        s++;
  70   2        }
  71   1      }/*------------------------------------------------
  72                               жϳ
  73          ------------------------------------------------*/
  74          void UART_SER (void) interrupt 4 //жϷ
  75          {
  76   1          unsigned char Temp;          //ʱ 
  77   1         
  78   1         if(RI)                        //жǽжϲ
  79   1           {
  80   2                RI=0;                      //־λ
  81   2                Temp=SBUF;                 //뻺ֵ
  82   2                P1=Temp;                   //ֵP1ڣڹ۲
  83   2            SBUF=Temp;                 //ѽյֵٷصԶ
  84   2               }
  85   1         if(TI)                        //Ƿͱ־λ
  86   1           TI=0;
  87   1      } 
  88          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     85    ----
   CONSTANT SIZE    =     59    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
